# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json
name: hyprland-atomic
description: Minimal GNOME base with Hyprland on Fedora 43 base.

base-image: ghcr.io/ublue-os/bazzite-gnome-nvidia
image-version: stable

modules:
  - type: dnf
    repos:
      copr:
        - solopasha/hyprland
        - scottames/ghostty
    install:
      packages:
        # --- Hyprland Core ---
        - hyprland
        - hyprpaper
        - hypridle
        - hyprlock
        - xdg-desktop-portal-hyprland
        - waybar
        - wofi
        - mako
        - grimblast
        - copyq
        - pamixer
        - brightnessctl
        - wob
        - hyprpolkitagent

        # --- Tools ---
        - neovim
        - zsh
        # Removed 'ghostty' (Conflict with ncurses-term in F43)

        # --- Media ---
        - mpv
        - yt-dlp

        # --- Sysadmin ---
        - htop
        - glances
        - screen

    remove:
      packages:
        - firefox
        - firefox-langpacks
        - gnome-calculator
        - gnome-calendar
        - gnome-characters
        - gnome-clocks
        - gnome-contacts
        - gnome-font-viewer
        - gnome-logs
        - gnome-maps
        - gnome-weather
        - gnome-disk-utility
        - gnome-system-monitor
        - gnome-text-editor
        - baobab
        - totem
        - loupe
        - snapshot
        - simple-scan
        - evince
        - yelp
        - gnome-tour
        - gnome-software

  # 2. Flatpaks
  - type: default-flatpaks
    configurations:
      - notify: true
        scope: system
        install:
          - org.mozilla.firefox
          - com.valvesoftware.Steam
          - com.discordapp.Discord
          - io.github.arunanshub.animdl
          - com.obsproject.Studio
          - org.gimp.GIMP
          
      - scope: user

  - type: signing
  
  - type: script
    scripts:
      - build.sh
